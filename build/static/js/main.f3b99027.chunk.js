(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAMWSURBVGhD7dlLqE1RHMfx65lXiDyjZEAyQF6lKEYYMFFkQpEJZcIlJW9JKaWMlKIoigwMRBITKaXklYEoeZQij8jz+9u1at1/66y912Vve9f51Wew11r3rv27zj57n6OjnXaalYE4jk94h51oXEbhPn4bK9GYqMRD2BJyFo3IaLQqIbdQ++SVkNoXUYlHCJ28r9ZFipaQ2hYZg6IlpJZFUktI7YqoxGOETjYmVmQOXuEEhmmg7IxFd0pIXpGv0LrXmIfS8jclJO+lNRk3obUqtQzdylBMNAZD0R37CezJpShyjfTGMWj9NyxE4QzHZdiNxf0TX0BoPkXKxe7K6LoZoYEi0TOQ3VR+og96Qk+xoTUpUopoz2vQz53RQJF8hN1U3kMZgtB8Kr/ITFzERvTXQCDj8AX6g07TQF5Cm0qZRbbCjT/DLIRyGFpzMjvKifuFVplFemAV7kFz2msqbPSG8wsf0E8DsdgNnTKLuPTFeWj+LlTQ5g40vyA7isTfzFdFEWUAXkJrlmjA5Cg0tyU7isTfzFdVEWU3tEYnbbMJrea6xN/MV2WRFdAa3a9sVkNzp7KjSPzNfFUWWQetCd0z1kJzeqCMxt/MV2WR09CabdlR17i36kPZUST+Zr6qiszAD3zHBA2YuCePNdlRJHZDp4oi8/EWmg9dzL2g5y3NT9JALP5mvjKLTMF1uLkr0D3FZjE0/yA7yon7ZVaZRXZAY5+xF3p8D+UGtC73HqI8h7+hoydeRd/jhuZT+UX0oLgU+iO1intLfoNBGsjLBthNHX3YUl4gNJ+i1cUeii56ffmtn1uvgaJZjnO4asyFshn2xFIVLaJPo0+hn7mkgX+dg7Anl6JIkelwL/Xb0HNYKTkAe4JFxYrobXYP9Dlda3WR6yN4qelumViRRdAa3RiPIPRWXEr2w55onlgRnfh2zM6OKs4+hE64laIX+39JSplaF1F0Zw6duFX7IorecUIn72tEESWvTGOKKO6zd4i+lm1UdiFURNdS49IJfbHmSujD0Ug0MvrPGz0F6OU2XgPttNO4dHT8AR1KHUa883P8AAAAAElFTkSuQmCC"},18:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAI6SURBVGhD7Zi7SgQxGEYXRRtBRcUb2GhjYa3gI9hY2tlpJWglWIh3wdbCVxBEBAsrS/UJBC9go42NgqClt+/bNRDCn8xk1wkJzIEDOxf4c3RndnYrJSVp0QYP4Ad8haswOfrgNfwxnIHJwIgbaEbQQ5gE/dAWQS9g9GRF0OhDGHELpcXrRh2SN4JGGzIA80bQKEN8I2h0IYy4g9JiXUYVMgjriaDRhDQSQYOFdMJhw3ZI+Il9D6UF5rXwkG54BqXhk5CcQOm4j4WH8BlIGvwFW2AT5FOsdI6PhYe8Q2nwGyQdUDruqxTCO2Br7aWTHthce2lHGkqLDhmFn/AScoaNBcjz9qpbDqShtOiQLvgEeewKSjGM+P5zljtcmAOVId5aI9AWo0cscUcW5kBliBAixXhHEHOgMlQI4WeWinmA3hHEHKgMGUIY8wLV+SvQC32YbugQ9XZS59tuAFb0YbohQ/RrYhdm3c1EzIHKUCHSha1fM4xRz3xOzIHKECGuu5N3jDlQWXTIGLRFKPRb8z53uDAHKosO4V/4GM5Vt+ww5hROVbccPEJpMJ94CX/HlY776rrY/4V5KA2m/LJF1L+3EQsPIdPwCJ4bTkCyCKXF+RgkJA+8v0sLzGs0IWQHSovMY1QhpN6Y6ELINpQW6zLKELIFpQXbjDaE+MREHUI2obRw0+hDyAaUFq+bRAjJikkmhKxDKYLyZ9mkWINSCK+l5FiG/J6hIp5hL0ySccinAL7dhrijpCQ5KpVfcpD6yzRGEiUAAAAASUVORK5CYII="},19:function(t,i,e){t.exports=e.p+"static/media/soundtrack.a05adbdf.mp3"},20:function(t,i,e){t.exports=e(37)},28:function(t,i,e){},34:function(t,i,e){},35:function(t,i,e){},36:function(t,i,e){},37:function(t,i,e){"use strict";e.r(i);var n=e(0),r=e.n(n),o=e(13),a=e(1),s=e(2),c=e(6),u=e(5),h=e(7),l=e(3),f=e.n(l),d=e(14),g=e.n(d),p=e(10),v=e.n(p),b=e(15),m=e(4),A=e(16),y=e.n(A),k=e(9),x=e(17),O=e.n(x),C=e(18),M=e.n(C),S=e(19),E=e.n(S),R=(e(28),function(t){function i(t){var e;return Object(a.a)(this,i),(e=Object(c.a)(this,Object(u.a)(i).call(this,t))).state={loaded:!1,soundOn:!0},e.toggleSound=e.toggleSound.bind(Object(m.a)(e)),e}return Object(h.a)(i,t),Object(s.a)(i,[{key:"toggleSound",value:function(){var t=this.state.soundOn;this.gain.gain.value=t?0:.2,this.setState({soundOn:!t})}},{key:"componentDidMount",value:function(){var t=Object(b.a)(v.a.mark(function t(){var i,e,n,r=this;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=k.destination,e=this.props.animator,t.prev=2,t.next=5,k.createMediaSource(E.a);case 5:this.source=t.sent,this.gain=k.createGain(),this.source.connect(this.gain).connect(i),this.source.element.loop=!0,this.gain.gain.value=.2,e.onPause(function(){r.state.loaded&&r.source.pause()}),e.onResume(function(){r.state.loaded&&r.source.resume()}),n=function t(){r.source.resume(),r.setState({loaded:!0}),document.removeEventListener("click",t)},document.addEventListener("click",n),t.next=18;break;case 16:t.prev=16,t.t0=t.catch(2);case 18:case"end":return t.stop()}},t,this,[[2,16]])}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state,i=t.loaded,e=t.soundOn;return r.a.createElement("div",{id:"audio-player"},i&&r.a.createElement("div",{id:"audio-info",className:y()({show:e})},r.a.createElement("span",{id:"audio-title"},"Fireflies (Said The Sky Remix)"),r.a.createElement("span",{id:"audio-author"},"Owl City")),i&&r.a.createElement("img",{id:"sound-toggle",src:e?O.a:M.a,alt:"Sound",onClick:this.toggleSound}))}}]),i}(n.Component)),j=e(8),F=e.n(j),D=Math.random,I=Math.min,L=Math.sqrt,P=Math.pow,V=Math.PI,T=Math.atan2,w=Math.sin,B=Math.cos,Q=function(t){return t>V?t-2*V:t<-V?t+2*V:t},U=function(t,i){if(t&&i){var e=t.x,n=t.y;return{x:i.x-e,y:i.y-n}}return{x:0,y:0}},G=function(t,i){var e=U(t,i),n=e.x,r=e.y;return L(n*n+r*r)},J=function(t,i){var e=U(t,i);return function(t,i){return"number"===typeof t&&"number"===typeof i?T(i,t):0}(e.x,e.y)},Y=function(t,i,e){return t>i?-I(e,t-i):t<i?I(e,i-t):0},N=function(t,i){if(t){var e=t.x,n=t.y,r=2*V*D();return{x:e+B(r)*i,y:n+w(r)*i}}return t},H=Math.random,K=Math.min,W={WANDER:{getColor:function(){return{r:255*H()>>0,g:0,b:255}},getSpeed:function(){return 30+30*H()},getAcceleration:function(){return 300},getDirectionVar:function(){return 15*H()-7.5},getBrightnessMin:function(){return.5*H()-2},getBrightnessMax:function(){return.5+.5*H()},blurFactor:0},ATTRACT:{getColor:function(){return{r:255,g:255*H()>>0,b:0}},getSpeed:function(){return 50+50*H()},getAcceleration:function(){return 700},getDirectionVar:function(t,i){var e=J(t.position,i.position)-t.direction;return 8*Q(e)},getBrightnessMin:function(){return.4*H()-.4},getBrightnessMax:function(){return 1+.2*H()},blurFactor:350},FOLLOW:{getColor:function(){return{r:0,g:255*H()>>0,b:255}},getSpeed:function(t,i){var e=G(t.position,i.position);return 40*i.speed/(e+20)},getAcceleration:function(){return 2500},getDirectionVar:function(t,i){var e=G(t.position,i.position),n=i.direction-t.direction,r=K(20,8e3/e);return Q(n)*r},getBrightnessMin:function(){return.4*H()-.2},getBrightnessMax:function(){return 1+.2*H()},blurFactor:100},FLEE:{getColor:function(){return{r:0,g:255*H()>>0,b:255}},getSpeed:function(){return 800+200*H()},getAcceleration:function(){return 4e3},getDirectionVar:function(t,i){var e=J(i.position,t.position)-t.direction;return 25*Q(e)},getBrightnessMin:function(){return 0+.4*H()},getBrightnessMax:function(){return 1+.2*H()},blurFactor:0},ARRIVE:{getColor:function(){return{r:255*H()>>0,g:255*H()>>0,b:255*H()>>0}},getSpeed:function(t,i){return 1.5*G(t.position,i.position)},getAcceleration:function(){return 800},getDirectionVar:function(t,i){var e=J(t.position,i.position)-t.direction;return 20*Q(e)},getBrightnessMin:function(){return 0+.4*H()},getBrightnessMax:function(){return 1+.2*H()},blurFactor:20}},X=Math.random,z=Math.sin,Z=Math.cos,q=Math.PI,$=function(){function t(){Object(a.a)(this,t),this.behaviour=null,this.color={r:0,g:0,b:0},this.colorVar=300,this.behaviourColor={r:0,g:0,b:0},this.brightness=0,this.brightnessVar=3,this.brightnessMin=0,this.brightnessMax=1,this.brightnessGrd=1,this.speed=0,this.behaviourSpeed=0,this.acceleration=0,this.velocity={x:0,y:0},this.radius=0,this.position={x:0,y:0},this.direction=0,this.directionVar=0}return Object(s.a)(t,[{key:"initialise",value:function(t,i){this.changeBehaviour(W.WANDER),this.radius=10+20*X(),this.position.x=t*X(),this.position.y=i,this.speed=0,this.direction=0}},{key:"isOutOfBound",value:function(t,i){var e=this.position,n=e.x,r=e.y,o=this.radius;return n<-o||t+o<n||r<-o||i+o<r}},{key:"changeBehaviour",value:function(t){if(this.behaviour!==t){var i=t.getColor,e=t.getBrightnessMin,n=t.getBrightnessMax;this.behaviour=t,this.behaviourColor=i(),this.brightnessMin=e(),this.brightnessMax=n()}}},{key:"behaveOn",value:function(t){var i=this.position,e=this.speed,n=this.direction,r=this.behaviour.blurFactor,o={position:t.getBlurredPosition(r),speed:t.getSpeed(),direction:t.getDirection()};this.behave({position:i,speed:e,direction:n},o)}},{key:"getTo",value:function(t){var i={position:this.position,speed:this.speed,direction:this.direction},e={position:t,speed:0,direction:0};this.behave(i,e)}},{key:"behave",value:function(t,i){var e=this.behaviour,n=e.getSpeed,r=e.getAcceleration,o=e.getDirectionVar;this.behaviourSpeed=n(t,i),this.acceleration=r(t,i),this.directionVar=o(t,i)}},{key:"updateColor",value:function(t){var i=this.color,e=i.r,n=i.g,r=i.b,o=this.colorVar*t,a=this.behaviourColor,s=a.r,c=a.g,u=a.b;this.color.r=e+Y(e,s,o)>>0,this.color.g=n+Y(n,c,o)>>0,this.color.b=r+Y(r,u,o)>>0}},{key:"updateBrightness",value:function(t){var i=this.brightness,e=this.brightnessMax,n=this.brightnessMin,r=this.brightnessVar;this.brightnessGrd=i>=e?-1:i<=n?1:this.brightnessGrd,this.brightness+=this.brightnessGrd*r*t}},{key:"updateSpeed",value:function(t){var i=this.speed,e=this.behaviourSpeed,n=this.acceleration*t;this.speed+=Y(i,e,n)}},{key:"updateDirection",value:function(t){var i=this.direction;i+=this.directionVar*t,this.direction=Q(i)}},{key:"updateVelocityPosition",value:function(t){var i=this.speed,e=this.direction,n=i*Z(e),r=i*z(e);this.velocity.x=n,this.velocity.y=r,this.position.x+=n*t,this.position.y+=r*t}},{key:"update",value:function(t,i,e,n){var r=n.getPosition(),o=n.getAction();if(this.changeBehaviour(W.WANDER),r&&o&&o.behaviour){var a=o.behaviour,s=o.effectiveRange;G(this.position,r)<s&&this.changeBehaviour(a)}null===this.behaviour||this.isOutOfBound(t,i)?this.initialise(t,i):(this.behaveOn(n),this.updateColor(e),this.updateBrightness(e),this.updateSpeed(e),this.updateDirection(e),this.updateVelocityPosition(e))}},{key:"performHeart",value:function(t,i,e,n,r,o){this.changeBehaviour(W.ARRIVE);var a=this.behaviour.blurFactor,s=N(n,a);null===this.behaviour||this.isOutOfBound(t,i)?this.initialise(t,i):(this.getTo(function(t,i,e){var n=(i-t/2)/t*2*V,r=e.x,o=e.y;return{x:r+112*P(w(n),3),y:o-7*(13*B(n)-5*B(2*n)-2*B(3*n)-B(4*n))}}(r,o,s)),this.updateColor(e),this.updateBrightness(e),this.updateSpeed(e),this.updateDirection(e),this.updateVelocityPosition(e))}},{key:"paint",value:function(t){t.beginPath();var i=this.position,e=i.x,n=i.y,r=this.radius,o=this.color,a=o.r,s=o.g,c=o.b,u=this.brightness.toFixed(2),h=t.createRadialGradient(e,n,0,e,n,r);h.addColorStop(0,"rgba(255, 255, 255, ".concat(u)),h.addColorStop(.1,"rgba(255, 255, 255, ".concat(.8*u)),h.addColorStop(.4,"rgba(".concat(a,", ").concat(s,", ").concat(c,", ").concat(.2*u,")")),h.addColorStop(1,"rgba(".concat(a,", ").concat(s,", ").concat(c,", 0)")),t.fillStyle=h,t.arc(e,n,r,2*q,!1),t.closePath(),t.fill()}}]),t}(),_={HOLD:{behaviour:W.ATTRACT,effectiveRange:300},DASH:{behaviour:W.FOLLOW,effectiveRange:200},CLICK:{behaviour:W.FLEE,effectiveRange:300}},tt=function(){function t(i){var e=this;Object(a.a)(this,t),this.mouse=i,this.clicked=!1,this.dashSpeed=1e3,this.clickTime=120,i.onMove(function(){}),i.onDown(function(){e.clicked=!0,setTimeout(function(){return e.clicked=!1},e.clickTime)}),i.onUp(function(){})}return Object(s.a)(t,[{key:"getPosition",value:function(){return this.mouse.position}},{key:"getBlurredPosition",value:function(t){return N(this.mouse.position,t)}},{key:"getDirection",value:function(){return this.mouse.direction}},{key:"getSpeed",value:function(){return this.mouse.movingSpeed}},{key:"getAction",value:function(){var t=this.clicked,i=this.mouse,e=this.dashSpeed,n=i.isMouseDown,r=i.movingSpeed;return t?_.CLICK:n?_.HOLD:r>e?_.DASH:null}}]),t}(),it=(e(34),function(t){function i(t){var e;return Object(a.a)(this,i),(e=Object(c.a)(this,Object(u.a)(i).call(this,t))).state={fireflies:[],performPosition:null},e.animate=e.animate.bind(Object(m.a)(e)),e}return Object(h.a)(i,t),Object(s.a)(i,[{key:"componentDidMount",value:function(){var t=this;this.props.animator.add(function(i){return t.update(i)}),this.generateFirefly()}},{key:"generateFirefly",value:function(){var t=this,i=this.props.count,e=this.state.fireflies;e.push(new $),this.setState({fireflies:e}),e.length<i&&setTimeout(function(){return t.generateFirefly()},250)}},{key:"isAllFirefliesAttracted",value:function(){for(var t=this.props.count,i=this.state.fireflies,e=0;e<i.length;e++){var n=i[e].behaviour;if(n!==W.ATTRACT&&n!==W.ARRIVE)return!1}return i.length===t}},{key:"performHeart",value:function(t){this.setState({performPosition:t})}},{key:"update",value:function(t){var i=this.layer,e=this.props,n=this.state,r=i.getCanvasElement(),o=r.width,a=r.height,s=e.target,c=e.count,u=e.index,h=e.totalCount,l=n.fireflies,f=n.performPosition;if(f)for(var d=0;d<l.length;d++){var g=u*c+d;l[d].performHeart(o,a,t,f,h,g)}else for(var p=0;p<l.length;p++){l[p].update(o,a,t,s)}}},{key:"animate",value:function(t,i,e){var n=this.state.fireflies;t.clearRect(0,0,i,e),t.globalCompositeOperation="lighter";for(var r=0;r<n.length;r++)n[r].paint(t,i,e)}},{key:"render",value:function(){var t=this,i=this.props.animator;return r.a.createElement(F.a,{ref:function(i){return t.layer=i},className:"fireflies-layer",animator:i,animate:this.animate})}}]),i}(n.Component));it.defaultProps={count:50,index:0,totalCount:50,animator:new f.a,target:null};var et=it,nt=Math.random,rt=Math.PI,ot=function(){function t(){Object(a.a)(this,t),this.color={r:0,g:0,b:0},this.colorVar=0,this.radius=0,this.position=null,this.velocity={x:0,y:0},this.lifespan=0,this.remainingLife=0,this.opacity=1}return Object(s.a)(t,[{key:"initialise",value:function(){this.color={r:255,g:100+155*nt()>>0,b:80},this.colorVar={r:120*nt()-480,g:240*nt()-960,b:120*nt()-480},this.radius=20+10*nt(),this.radiusVar=40+40*nt(),this.opacity=1,this.velocity={x:180*nt()-90,y:300*nt()-500},this.lifespan=.2+.2*nt(),this.remainingLife=this.lifespan}},{key:"update",value:function(t,i,e){var n=i.getPosition();if((this.remainingLife<=0||this.radius<=0)&&n&&e)this.initialise(),this.position={x:n.x,y:n.y};else if(this.remainingLife>0&&this.radius>0){var r=this.color,o=r.r,a=r.g,s=r.b,c=this.colorVar,u=c.r,h=c.g,l=c.b,f=this.velocity,d=f.x,g=f.y;this.color.r=o+u*t>>0,this.color.g=a+h*t>>0,this.color.b=s+l*t>>0,this.position.x+=d*t,this.position.y+=g*t,this.remainingLife-=t,this.radius-=this.radiusVar*t,this.opacity=this.remainingLife/this.lifespan}}},{key:"paint",value:function(t){var i=this.opacity,e=this.remainingLife,n=this.radius,r=this.position,o=this.color;if(e>0&&n>0){t.beginPath();var a=r.x,s=r.y,c=o.r,u=o.g,h=o.b,l=t.createRadialGradient(a,s,0,a,s,n);l.addColorStop(0,"rgba(".concat(c,", ").concat(u,", ").concat(h,", ").concat(i)),l.addColorStop(.6,"rgba(".concat(c,", ").concat(u,", ").concat(h,", ").concat(.6*i,")")),l.addColorStop(1,"rgba(".concat(c,", ").concat(u,", ").concat(h,", 0)")),t.fillStyle=l,t.arc(a,s,n,2*rt,!1),t.closePath(),t.fill()}}}]),t}(),at=Math.random,st=Math.PI,ct=function(){function t(){Object(a.a)(this,t),this.color={r:0,g:0,b:0},this.colorVar=0,this.radius=0,this.position=null,this.velocity={x:0,y:0},this.lifespan=0,this.remainingLife=0,this.opacity=1}return Object(s.a)(t,[{key:"initialise",value:function(){this.color={r:255,g:200+50*at()>>0,b:150},this.colorVar={r:400*at()-800,g:400*at()-800,b:600*at()-1200},this.radius=5+5*at(),this.radiusVariaton=9+2*at(),this.opacity=1,this.velocity={x:1e3*at()-500,y:1e3*at()-750},this.lifespan=1+2*at(),this.remainingLife=this.lifespan}},{key:"update",value:function(t,i){var e=i.isClicked(),n=i.getPosition();if((this.remainingLife<=0||this.radius<=0)&&n&&e)this.initialise(),this.position={x:n.x,y:n.y};else if(this.remainingLife>0&&this.radius>0){var r=this.color,o=r.r,a=r.g,s=r.b,c=this.colorVar,u=c.r,h=c.g,l=c.b,f=this.velocity,d=f.x,g=f.y;this.color.r=o+u*t>>0,this.color.g=a+h*t>>0,this.color.b=s+l*t>>0,this.position.x+=d*t,this.position.y+=g*t,this.remainingLife-=t,this.radius-=this.radiusVariaton*t,this.opacity=this.remainingLife/this.lifespan,this.velocity.y+=30}}},{key:"paint",value:function(t){var i=this.opacity,e=this.remainingLife,n=this.radius,r=this.position,o=this.color;if(e>0&&n>0){t.beginPath();var a=r.x,s=r.y,c=o.r,u=o.g,h=o.b,l=t.createRadialGradient(a,s,0,a,s,n);l.addColorStop(0,"rgba(255, 255, 255, ".concat(i)),l.addColorStop(.6,"rgba(".concat(c,", ").concat(u,", ").concat(h,", ").concat(.6*i,")")),l.addColorStop(1,"rgba(0, 0, 0, 0)"),t.fillStyle=l,t.arc(a,s,n,2*st,!1),t.closePath(),t.fill()}}}]),t}(),ut=function(){function t(i){var e=this;Object(a.a)(this,t),this.mouse=i,this.clicked=!1,this.clickTime=120,i.onMove(function(){}),i.onDown(function(){e.clicked=!0,setTimeout(function(){return e.clicked=!1},e.clickTime)}),i.onUp(function(){})}return Object(s.a)(t,[{key:"isClicked",value:function(){return this.clicked}},{key:"getPosition",value:function(){return this.mouse.isMouseDown?this.mouse.position:null}}]),t}(),ht=(e(35),function(t){function i(t){var e;return Object(a.a)(this,i),(e=Object(c.a)(this,Object(u.a)(i).call(this,t))).state={fireParticles:[],sparkParticles:[]},e.animate=e.animate.bind(Object(m.a)(e)),e}return Object(h.a)(i,t),Object(s.a)(i,[{key:"componentDidMount",value:function(){var t=this,i=this.props,e=i.count,n=i.animator,r=this.state,o=r.fireParticles,a=r.sparkParticles;n.add(function(i){return t.update(i)}),n.start();for(var s=0;s<e;s++)o.push(new ot);for(var c=0;c<e/4;c++)a.push(new ct)}},{key:"update",value:function(t){for(var i=this.props.target,e=this.state,n=e.fireParticles,r=e.sparkParticles,o=!0,a=0;a<n.length;a++){var s=n[a];s.update(t,i,o),s.remainingLife===s.lifespan&&(o=!1)}for(var c=0;c<r.length;c++)r[c].update(t,i,o)}},{key:"animate",value:function(t,i,e){var n=this.state,r=n.fireParticles,o=n.sparkParticles;t.clearRect(0,0,i,e),t.globalCompositeOperation="lighter";for(var a=0;a<r.length;a++)r[a].paint(t);for(var s=0;s<o.length;s++)o[s].paint(t)}},{key:"render",value:function(){var t=this.props.animator;return r.a.createElement(F.a,{className:"fire-layer",animator:t,animate:this.animate})}}]),i}(n.Component));ht.defaultProps={count:50,animator:new f.a,target:null};var lt=ht,ft=(e(36),function(t){function i(t){var e;return Object(a.a)(this,i),(e=Object(c.a)(this,Object(u.a)(i).call(this,t))).mouse=new g.a,e.blockContextMenu=function(t){return t.preventDefault()},e.state={firefliesTarget:new tt(e.mouse),fireTarget:new ut(e.mouse)},e}return Object(h.a)(i,t),Object(s.a)(i,[{key:"componentDidMount",value:function(){var t=this,i=this.mouse,e=this.blockContextMenu,n=this.scene,r=this.foreground,o=this.background,a=this.props.animator;n.addEventListener("contextmenu",e),a.add(function(){i.isMouseDown&&t.isAllFirefliesAttracted()&&(r.performHeart(i.position),o.performHeart(i.position),clearTimeout(t.performTimer),t.performTimer=setTimeout(function(){r.performHeart(),o.performHeart()},5e3))}),a.start(),i.attach(n)}},{key:"componentWillUnmount",value:function(){var t=this.mouse,i=this.blockContextMenu;this.scene.removeEventListener("contextmenu",i),t.detach()}},{key:"isAllFirefliesAttracted",value:function(){var t=this.foreground,i=this.background;return t.isAllFirefliesAttracted()&&i.isAllFirefliesAttracted()}},{key:"render",value:function(){var t=this,i=this.props.animator,e=this.state,n=e.firefliesTarget,o=e.fireTarget;return r.a.createElement("div",{id:"fireflies-scene",ref:function(i){return t.scene=i}},r.a.createElement(et,{ref:function(i){return t.background=i},animator:i,target:n,count:50,index:0,totalCount:100}),r.a.createElement(lt,{animator:i,target:o}),r.a.createElement(et,{ref:function(i){return t.foreground=i},animator:i,target:n,count:50,index:1,totalCount:100}),r.a.createElement(R,{animator:i}))}}]),i}(n.Component));ft.defaultProps={animator:new f.a};var dt=ft;Object(o.render)(r.a.createElement(dt,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.f3b99027.chunk.js.map